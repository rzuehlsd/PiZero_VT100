# Manual Verification Plan (2026-02-12 to 2026-02-14)

This test plan covers features implemented since 2026-02-12 that are not fully covered by `VTTest.cpp` automation.

## Table of Contents

- [Manual Verification Plan (2026-02-12 to 2026-02-14)](#manual-verification-plan-2026-02-12-to-2026-02-14)
  - [Table of Contents](#table-of-contents)
  - [Preconditions](#preconditions)
  - [General Pass Criterion](#general-pass-criterion)
  - [A1) WLAN Command Mode Basics](#a1-wlan-command-mode-basics)
    - [Purpose of Test](#purpose-of-test)
  - [A2) WLAN Manual Host Mode Switch](#a2-wlan-manual-host-mode-switch)
    - [Purpose of Test](#purpose-of-test-1)
  - [A3) WLAN Auto-Start Host Mode](#a3-wlan-auto-start-host-mode)
    - [Purpose of Test](#purpose-of-test-2)
  - [A4) UART vs Host Source Separation](#a4-uart-vs-host-source-separation)
    - [Purpose of Test](#purpose-of-test-3)
  - [B1) Setup B Smooth Scroll Bit Mapping](#b1-setup-b-smooth-scroll-bit-mapping)
    - [Purpose of Test](#purpose-of-test-4)
  - [B2) Setup B Runtime Apply Without Reboot](#b2-setup-b-runtime-apply-without-reboot)
    - [Purpose of Test](#purpose-of-test-5)
  - [B3) Setup B Additional Mapped Fields Sanity](#b3-setup-b-additional-mapped-fields-sanity)
    - [Purpose of Test](#purpose-of-test-6)
  - [B4) Setup B Wrap-Around and Margin Bell Spot Check](#b4-setup-b-wrap-around-and-margin-bell-spot-check)
    - [Purpose of Test](#purpose-of-test-7)
  - [C1) Modern Setup Navigation, Cancel, Save](#c1-modern-setup-navigation-cancel-save)
    - [Purpose of Test](#purpose-of-test-8)
  - [C2) Modern Setup Persistence Matrix](#c2-modern-setup-persistence-matrix)
    - [Purpose of Test](#purpose-of-test-9)
  - [C3) Modern Setup Reboot Roundtrip](#c3-modern-setup-reboot-roundtrip)
    - [Purpose of Test](#purpose-of-test-10)
  - [C4) Modern Setup Runtime Apply Matrix](#c4-modern-setup-runtime-apply-matrix)
    - [Purpose of Test](#purpose-of-test-11)
  - [D1) Smooth Scroll Boot-Time Apply](#d1-smooth-scroll-boot-time-apply)
    - [Purpose of Test](#purpose-of-test-12)
  - [D2) Smooth Scroll Single-Line Insert/Delete Behavior](#d2-smooth-scroll-single-line-insertdelete-behavior)
    - [Purpose of Test](#purpose-of-test-13)
  - [E1) Local Mode Toggle and Local Echo](#e1-local-mode-toggle-and-local-echo)
    - [Purpose of Test](#purpose-of-test-14)
  - [E2) Local Mode Host Routing Restore](#e2-local-mode-host-routing-restore)
    - [Purpose of Test](#purpose-of-test-15)
  - [Test Results Summary](#test-results-summary)

## Preconditions

1. Device boots into current VT100 firmware.
2. WLAN is configured and reachable.
3. A telnet client is available.
4. Access to a serial host (or generator) is available.
5. `VT100.txt` can be read from SD boot partition.

## General Pass Criterion

A test is completed successfully **only if all steps in its table are successful**.

---

## A1) WLAN Command Mode Basics

### Purpose of Test

Verify telnet command mode is stable and core command set responds correctly.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Connect to `telnet <ip-or-hostname> 2323`. | Session opens and remains stable. | PASS / FAIL / N/A |
| 2 | Run `help`. | Command list is shown. | PASS / FAIL / N/A |
| 3 | Run `status`. | Runtime/network status is shown. | PASS / FAIL / N/A |
| 4 | Run `echo test123`. | `test123` is echoed correctly. | PASS / FAIL / N/A |

---

## A2) WLAN Manual Host Mode Switch

### Purpose of Test

Verify manual switch between command mode and transparent host bridge mode.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | In telnet command mode, run `host on`. | Session enters host bridge mode. | PASS / FAIL / N/A |
| 2 | Type keys on VT100 keyboard. | Keyboard TX arrives at TCP peer. | PASS / FAIL / N/A |
| 3 | Send data from TCP peer. | TCP RX is rendered on VT100 display. | PASS / FAIL / N/A |
| 4 | Run `host off`. | Session returns to command/log mode. | PASS / FAIL / N/A |
| 5 | Optional: press `Ctrl-]` in host mode. | Escape returns to command mode. | PASS / FAIL / N/A |

---

## A3) WLAN Auto-Start Host Mode

### Purpose of Test

Verify `wlan_host_autostart` behavior for automatic host-mode entry.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Set `wlan_host_autostart=1` in `VT100.txt` and reboot. | Firmware boots normally with updated config. | PASS / FAIL / N/A |
| 2 | Reconnect via telnet. | Host mode is active immediately after connect. | PASS / FAIL / N/A |
| 3 | Set `wlan_host_autostart=0`, reboot, reconnect. | Session starts in command/log mode. | PASS / FAIL / N/A |

---

## A4) UART vs Host Source Separation

### Purpose of Test

Confirm source routing is exclusive and does not mix UART/TCP host paths incorrectly.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Start continuous UART host output. | UART text is visible in normal mode. | PASS / FAIL / N/A |
| 2 | Enable host mode via telnet (`host on`). | TCP host path becomes active. | PASS / FAIL / N/A |
| 3 | Observe display source behavior in host mode. | Mixed UART/TCP rendering is avoided. | PASS / FAIL / N/A |
| 4 | Disable host mode (`host off`). | Normal UART rendering resumes. | PASS / FAIL / N/A |

---

## B1) Setup B Smooth Scroll Bit Mapping

### Purpose of Test

Verify Setup B bit mapping and persistence for `smooth_scroll`.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Set `smooth_scroll=0` in `VT100.txt` and reboot. | Runtime starts with smooth scroll disabled. | PASS / FAIL / N/A |
| 2 | Open F12 Setup B and inspect group 1 leftmost bit. | Bit reflects persisted `smooth_scroll` value. | PASS / FAIL / N/A |
| 3 | Toggle bit ON and save. | `VT100.txt` contains `smooth_scroll=1`. | PASS / FAIL / N/A |
| 4 | Toggle bit OFF and save. | `VT100.txt` contains `smooth_scroll=0`. | PASS / FAIL / N/A |

---

## B2) Setup B Runtime Apply Without Reboot

### Purpose of Test

Verify Setup B changes are applied immediately at runtime.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Open F12 Setup B and toggle smooth scroll bit. | Toggle state changes in UI. | PASS / FAIL / N/A |
| 2 | Save changes. | Save completes without reboot. | PASS / FAIL / N/A |
| 3 | Generate scrolling output immediately. | Behavior changes immediately. | PASS / FAIL / N/A |

---

## B3) Setup B Additional Mapped Fields Sanity

### Purpose of Test

Validate mapped Setup B fields apply correctly and do not create side effects.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Modify mapped fields in F12 Setup B: cursor, margin bell, keyclick, VT52, newline, wrap-around, parity, bits. | UI reflects intended edits. | PASS / FAIL / N/A |
| 2 | Save changes. | Values persist to config/runtime. | PASS / FAIL / N/A |
| 3 | Perform quick functional checks for each changed area. | Mapped fields apply correctly; no side effects from unimplemented fields. | PASS / FAIL / N/A |

---

## B4) Setup B Wrap-Around and Margin Bell Spot Check

### Purpose of Test

Verify legacy Setup B control bits for `wrap_around` and `margin_bell`.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | In F12 Setup B set wrap-around ON and margin bell ON; save. | Config and runtime apply both settings. | PASS / FAIL / N/A |
| 2 | Write long text at right edge. | With wrap ON, text continues on next line. | PASS / FAIL / N/A |
| 3 | Start 5 chars before bell threshold and type across `right_margin - 8`. | Bell sounds at threshold. | PASS / FAIL / N/A |
| 4 | Set wrap-around OFF and repeat line-end write. | Rightmost cell is overwritten; cursor stays at last column. | PASS / FAIL / N/A |

---

## C1) Modern Setup Navigation, Cancel, Save

### Purpose of Test

Verify modern setup interaction, cancel semantics, and save semantics.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Open F11 setup and change multiple values. | Selection and edits work with arrows. | PASS / FAIL / N/A |
| 2 | Press `Esc`. | Pending changes are canceled. | PASS / FAIL / N/A |
| 3 | Re-open F11, change values, press `Enter`. | Changes are saved/applied and persisted to `VT100.txt`. | PASS / FAIL / N/A |

---

## C2) Modern Setup Persistence Matrix

### Purpose of Test

Verify representative persisted fields are written correctly by modern setup.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | In F11 change: `baud_rate`, `line_ending`, `cursor_type`, `font_selection`, `text_color`, `background_color`, `smooth_scroll`, `log_output`, `wlan_host_autostart`. | Values update in dialog/runtime. | PASS / FAIL / N/A |
| 2 | Save and inspect `VT100.txt`. | Keys exist with expected values and no unrelated corruption. | PASS / FAIL / N/A |

---

## C3) Modern Setup Reboot Roundtrip

### Purpose of Test

Verify saved modern setup values survive reboot and UI reflects persisted state.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Reboot after C2 changes. | System boots normally with persisted config. | PASS / FAIL / N/A |
| 2 | Verify runtime behavior for changed settings. | Runtime reflects persisted values. | PASS / FAIL / N/A |
| 3 | Re-open F11/F12 and compare displayed values with `VT100.txt`. | UI state matches file state. | PASS / FAIL / N/A |

---

## C4) Modern Setup Runtime Apply Matrix

### Purpose of Test

Verify that modern setup `Enter` applies settings immediately to active runtime subsystems.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Change `font_selection`, `text_color`, `background_color`, `cursor_type`, `cursor_blinking`, `vt52_mode`, `smooth_scroll` in F11 and press `Enter`. | Renderer updates are visible immediately without reboot. | PASS / FAIL / N/A |
| 2 | Change `buzzer_volume` and `switch_txrx`, press `Enter`, trigger bell/key-click and observe wiring mode behavior. | HAL changes are effective immediately. | PASS / FAIL / N/A |
| 3 | Change `repeat_delay_ms` and `repeat_rate_cps`, press `Enter`, hold a key. | Auto-repeat timing reflects new values in same session. | PASS / FAIL / N/A |
| 4 | Change `baud_rate`, `serial_bits`, `serial_parity`, `flow_control`, press `Enter`, verify host link with matching peer settings. | UART uses updated serial framing/rate immediately. | PASS / FAIL / N/A |
| 5 | Change `log_output` and `log_filename`, press `Enter`, observe active log sinks and file target. | Logging target changes are active immediately. | PASS / FAIL / N/A |
| 6 | Change `wlan_host_autostart`, press `Enter`, reconnect telnet session. | Persisted value is used on subsequent session behavior. | PASS / FAIL / N/A |

---

## D1) Smooth Scroll Boot-Time Apply

### Purpose of Test

Verify `smooth_scroll` value is applied during boot.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Set `smooth_scroll=1`, reboot, generate frequent single-line scrolling. | Intermediate smooth motion is visible. | PASS / FAIL / N/A |
| 2 | Set `smooth_scroll=0`, reboot, repeat same pattern. | Immediate line-step scrolling (no smooth frames). | PASS / FAIL / N/A |

---

## D2) Smooth Scroll Single-Line Insert/Delete Behavior

### Purpose of Test

Verify smooth behavior in single-line `IL(1)` / `DL(1)` paths.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Generate traffic that repeatedly triggers `IL(1)` and `DL(1)` with `smooth_scroll=1`. | Smooth animated transition is visible. | PASS / FAIL / N/A |
| 2 | Repeat with `smooth_scroll=0`. | Direct redraw without intermediate animation. | PASS / FAIL / N/A |
| 3 | Observe area outside active scroll region. | No artifacts outside active region. | PASS / FAIL / N/A |

---

## E1) Local Mode Toggle and Local Echo

### Purpose of Test

Verify `F10` local mode activation and keyboard loopback behavior.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Press `F10`. | Status line indicates local mode ON. | PASS / FAIL / N/A |
| 2 | Type keyboard input. | Characters are echoed locally on screen. | PASS / FAIL / N/A |
| 3 | Observe host endpoint while ON. | Keyboard input is not forwarded to host path. | PASS / FAIL / N/A |

---

## E2) Local Mode Host Routing Restore

### Purpose of Test

Verify `F10` deactivation restores normal host routing.

| Step No | Description | Expected Result | Verification |
| --- | --- | --- | --- |
| 1 | Press `F10` again. | Status line indicates local mode OFF. | PASS / FAIL / N/A |
| 2 | Type keyboard input. | Input follows normal host routing (UART/TCP host mode path). | PASS / FAIL / N/A |

---

## Test Results Summary

| Test Name | Result (PASS/FAIL) | All Steps Successful (Yes/No) | Date | Tester | Notes |
| --- | --- | --- | --- | --- | --- |
| A1) WLAN Command Mode Basics |  |  |  |  |  |
| A2) WLAN Manual Host Mode Switch |  |  |  |  |  |
| A3) WLAN Auto-Start Host Mode |  |  |  |  |  |
| A4) UART vs Host Source Separation |  |  |  |  |  |
| B1) Setup B Smooth Scroll Bit Mapping |  |  |  |  |  |
| B2) Setup B Runtime Apply Without Reboot |  |  |  |  |  |
| B3) Setup B Additional Mapped Fields Sanity |  |  |  |  |  |
| B4) Setup B Wrap-Around and Margin Bell Spot Check |  |  |  |  |  |
| C1) Modern Setup Navigation, Cancel, Save |  |  |  |  |  |
| C2) Modern Setup Persistence Matrix |  |  |  |  |  |
| C3) Modern Setup Reboot Roundtrip |  |  |  |  |  |
| C4) Modern Setup Runtime Apply Matrix |  |  |  |  |  |
| D1) Smooth Scroll Boot-Time Apply |  |  |  |  |  |
| D2) Smooth Scroll Single-Line Insert/Delete Behavior |  |  |  |  |  |
| E1) Local Mode Toggle and Local Echo |  |  |  |  |  |
| E2) Local Mode Host Routing Restore |  |  |  |  |  |
